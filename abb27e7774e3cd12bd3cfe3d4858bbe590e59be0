{
  "comments": [
    {
      "key": {
        "uuid": "6b89e3a5_2508cb30",
        "filename": "drm-lease-manager/lease-server.c",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 163
      },
      "writtenOn": "2021-04-09T07:26:16Z",
      "side": 1,
      "message": "＠Yamaguchi-san、\n\nThank you for the review. \n\nThis comment is not related to this change, but about the discussion we had last week about closing this file descriptor on failure.\n\nI thought that there were other places where there are checks before close()\u0027ing invalid (-1) fds in the code.  If there were then we should also add a check here to be consistent, but I have since confirmed that there are no such checks anywhere.  We don\u0027t use the return value of close() here (or anywhere), so I think it should be ok to leave this call as is.",
      "revId": "abb27e7774e3cd12bd3cfe3d4858bbe590e59be0",
      "serverId": "2db66874-6d0c-4434-a3ad-56d904acc56e",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67a66766_ead78ab8",
        "filename": "drm-lease-manager/lease-server.c",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 637
      },
      "writtenOn": "2021-04-11T06:35:56Z",
      "side": 1,
      "message": "I think \"the error values use in other function\" is not good code.\nIn case of \"free\", free(NULL) is not err case, that is special case.\n\nProbably, close(-1) will not cause any side effects.\nMy point of view, this code is not good.",
      "parentUuid": "6b89e3a5_2508cb30",
      "revId": "abb27e7774e3cd12bd3cfe3d4858bbe590e59be0",
      "serverId": "2db66874-6d0c-4434-a3ad-56d904acc56e",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce4ed90a_b0372f38",
        "filename": "drm-lease-manager/lease-server.c",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 163
      },
      "writtenOn": "2021-04-12T06:56:22Z",
      "side": 1,
      "message": "Ok, I will adjust this this so that ls_destroy() is not called until the epoll_fd has been verified as valid. \n\nI\u0027ll also add a check for lease-\u003elease_fd in dlmclient.c.  Actually reviewing that file again, I realized that there are paths where lease_fd still has the default value `0` when closed, so I will fix that too.\n\nThat will be in a separate change, so I will merge this in the meantime.",
      "parentUuid": "67a66766_ead78ab8",
      "revId": "abb27e7774e3cd12bd3cfe3d4858bbe590e59be0",
      "serverId": "2db66874-6d0c-4434-a3ad-56d904acc56e",
      "unresolved": true
    }
  ]
}